# Sub-agent: i18n

## Scope (owned files/folders)
- src/assets/js/i18n.js
- src/assets/js/app.js (language detection + rerender orchestration)
- Language switcher behavior
- Applying translations to:
  - UI labels (from ui-texts.json)
  - items (category/item name/description from items.json)

## Do NOT touch
- cart module internal logic (owned by cart agent)
- CSS
- Netlify config

## Language rules
- Determine active language in this order:
  1) URL query param `lang=lt|en|ru`
  2) localStorage `lang_v1`
  3) navigator.language mapping
  4) default `lt`
- Switching language:
  - update URL query param
  - persist localStorage
  - rerender UI + catalog + cart labels
- Cart persistence across languages:
  - cart stores item IDs only; item strings resolved at render time via current language

## i18n API
- `getLang()` / `setLang(lang)`
- `t(path, fallback)` for ui-texts.json
- `pick(obj, lang)` to read {lt,en,ru} leaves safely

## DOM binding approach
- Prefer data attributes for translatable nodes:
  - data-i18n="buttons.addToCart"
- Apply by setting textContent only.

## Append integration notes + how to test to agents/STATUS.md.
